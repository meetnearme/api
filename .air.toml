# .air.toml (in your project root)

root = "."
tmp_dir = "tmp" # Ensure 'tmp' is in .dockerignore

[build]
cmd = "go build -o ./tmp/main ./functions/gateway/main.go" # Verify path
bin = "./tmp/main"
include_ext = ["go", "tpl", "tmpl"] # Watch Go files (incl. those generated by templ)
exclude_dir = ["tmp", "vendor", "static", "scripts", "node_modules"]
include_dir = ["functions"] # Adjust to your source code layout
delay = 1000 # ms
stop_on_error = true
log = "air_build.log"

[log]
time = true

[misc]
clean_on_exit = true

# Other sections (proxy, color) as needed
